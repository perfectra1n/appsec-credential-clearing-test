<mat-card>

  <h3>Change Password</h3>

  <div class="form-container">

    <div *ngIf="confirmation && !passwordControl.dirty && !newPasswordControl.dirty && !repeatNewPasswordControl.dirty" style="color:#5bc0de">{{ confirmation }}</div>

    <div *ngIf="error && !passwordControl.dirty && !newPasswordControl.dirty && !repeatNewPasswordControl.dirty" style="color:red">{{ error }}</div>

    <mat-form-field appearance="outline">
      <mat-label>Current Password</mat-label>
      <input [formControl]="passwordControl" type="password" matInput>
      <mat-error *ngIf="passwordControl.invalid">Please provide your current password.</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>New Password</mat-label>
      <input [formControl]="newPasswordControl" type="password" matInput>
      <mat-error *ngIf="newPasswordControl?.invalid && newPasswordControl?.errors.required">Please provide your new password.</mat-error>
      <mat-error *ngIf="newPasswordControl?.invalid && (newPasswordControl?.errors.minlength || newPasswordControl?.errors.maxlength)">Password must be 5-20 characters long.</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Repeat New Password</mat-label>
      <input [formControl]="repeatNewPasswordControl" type="password" matInput>
      <mat-error *ngIf="repeatNewPasswordControl.invalid">Please repeat your password.</mat-error>
    </mat-form-field>

  </div>

  <button [disabled]="passwordControl.invalid || newPasswordControl.invalid || repeatNewPasswordControl.invalid" mat-raised-button color="primary" (click)="changePassword()"><i class="fas fa-save fa-lg"></i>  Change</button>

</mat-card>
