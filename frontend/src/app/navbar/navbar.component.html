<mat-toolbar fxLayout="column" class="mat-elevation-z6" color="primary">
  <mat-toolbar-row fxLayout="row" class="first-toolbar-row">

    <span style="display:flex;margin-right:30px">

        <a class="application-info" routerLink="/search">
          <img style="height: 40px;width: 50px;padding-top:7px" [src]="logoSrc">
        </a>

        <a class="application-info" routerLink="/search">
          <span style="margin-top:3px;">{{applicationName}}</span>
          <span style="font-size:12px;">{{version}}</span>
        </a>

    </span>

    <nav fxFlex="1 1 50%" fxLayoutGap="5%" fxLayoutGap.lt-md="45%" fxLayoutGap.xs="0">
      <a mat-button id="login" *ngIf="!isLoggedIn()" routerLink="/login"><i class="fas fa-sign-in-alt fa-lg"></i> {{ "TITLE_LOGIN" | translate}}</a>

      <a mat-button id="logout" *ngIf="isLoggedIn()" (click)="logout()"><i class="fas fa-sign-out-alt fa-lg"></i> {{"TITLE_LOGOUT" | translate }}</a>

      <mat-form-field class="language-select">

        <mat-select [(value)]="selectedLanguage">

          <mat-select-trigger>
            <i class="fas fa-language fa-lg"></i>
            {{"LANGUAGE" | translate}}
          </mat-select-trigger>

          <mat-option (click)="changeLanguage('en')" value="English"><span class="flag-icon flag-icon-gb"></span><span class="flag-icon flag-icon-us"></span> English</mat-option>
          <mat-option *ngFor="let language of languages"  (click)="changeLanguage(language.key)" [value]="language.lang">
              <span class="flag-icon flag-icon-{{language.icon}}"></span>
              {{language?.lang}}
              <i *ngIf="language.isFlask" class="fas fa-flask"></i>
          </mat-option>

        </mat-select>

      </mat-form-field>

      <input class="search-input" fxShow fxHide.lt-md="true" fxHide.xs="true" id="searchQuery" type="text" placeholder="{{'SEARCH_PLACEHOLDER' | translate}}" #searchControl style="margin-right:10px;">
      <button fxShow fxHide.lt-md="true" fxHide.xs="true" id="searchButton" color="accent" (click)="search(searchControl.value)" style="margin-right:25px;margin-top: 15px;margin-bottom: 16px;" mat-raised-button> <i class="fas fa-search fa-lg"></i> {{"NAV_SEARCH" | translate}}</button>

      <button fxShow fxHide.lt-md="true" fxHide.xs="true" class="contact-dropdown" mat-button [matMenuTriggerFor]="menu">{{"TITLE_CONTACT" | translate}}</button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item routerLink="/contact"><i class="fas fa-comment fa-lg"></i> Customer Feedback</button>
        <button mat-menu-item *ngIf="isLoggedIn()" routerLink="/complain"><i class="fas fa-bomb fa-lg"></i> Order Problem</button>
      </mat-menu>

      <a fxShow fxHide.lt-md="true" fxHide.xs="true" *ngIf="scoreBoardVisible" mat-button routerLink="/score-board"><i class="fas fa-trophy fa-lg"></i> {{"TITLE_SCORE_BOARD" | translate}}</a>
      <a fxShow fxHide.lt-md="true" fxHide.xs="true" mat-button routerLink="/about"><i class="fas fa-info-circle fa-lg"></i> {{"TITLE_ABOUT" | translate}}</a>

    </nav>

  </mat-toolbar-row>

  <mat-toolbar-row fxFlex="1 1 50%" fxLayoutGap="5%" fxLayoutGap.lt-md="7%" fxLayoutGap.xs="0" fxHide fxShow.lt-md="true" fxShow.xs="true">
      <button class="contact-dropdown" mat-button [matMenuTriggerFor]="menu">{{"TITLE_CONTACT" | translate}}</button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item routerLink="/contact"><i class="fas fa-comment fa-lg"></i> Customer Feedback</button>
        <button mat-menu-item *ngIf="isLoggedIn()" routerLink="/complain"><i class="fas fa-bomb fa-lg"></i> Order Problem</button>
      </mat-menu>

      <input class="search-input" id="searchQuery" type="text" placeholder="{{'SEARCH_PLACEHOLDER' | translate}}" #searchControl style="margin-right:10px;">
      <button id="searchButton" color="accent" (click)="search(searchControl.value)" style="margin-right:25px;margin-top: 15px;margin-bottom: 16px;" mat-raised-button> <i class="fas fa-search fa-lg"></i> {{"NAV_SEARCH" | translate}}</button>

      <a *ngIf="scoreBoardVisible" mat-button routerLink="/score-board"><i class="fas fa-trophy fa-lg"></i> {{"TITLE_SCORE_BOARD" | translate}}</a>
      <a mat-button routerLink="/about"><i class="fas fa-info-circle fa-lg"></i> {{"TITLE_ABOUT" | translate}}</a>
  </mat-toolbar-row>

  <mat-toolbar-row fxFlex="1 1 50%" fxLayoutGap="10%" fxLayoutGap.lt-md="25%" fxLayoutGap.xs="0" *ngIf="isLoggedIn()" class="second-toolbar-row">
      <span class="user-info" matTooltip="{{userEmail}}" matTooltipPosition="right">
        <i class="fas fa-user-circle fa-lg"></i>
      </span>
      <a mat-button routerLink="/basket"><i class="fas fa-shopping-cart fa-lg"></i> Your Basket</a>
      <a mat-button routerLink="/change-password"><i class="fas fa-user-secret fa-lg"></i> Change Password</a>
      <a mat-button routerLink="/recycle"><i class="fas fa-recycle fa-lg"></i> Recycle</a>
      <a mat-button routerLink="/track-order"><i class="fas fa-map-marker fa-lg"></i> Track Orders</a>
  </mat-toolbar-row>

  <mat-toolbar-row fxFlex="1 1 50%" fxLayoutGap="10%" fxLayoutGap.lt-md="25%" fxLayoutGap.xs="0" fxHide fxShow.lt-md="true" fxShow.xs="true" fxFlex="1 1 50%" fxLayoutGap="10%" fxLayoutGap.lt-md="5%" fxLayoutGap.xs="0">
    <a mat-button routerLink="/recycle"><i class="fas fa-recycle fa-lg"></i> Recycle</a>
    <a mat-button routerLink="/track-order"><i class="fas fa-map-marker fa-lg"></i> Track Orders</a>
  </mat-toolbar-row>

  <a [hidden]="!gitHubRibbon" href="/redirect?to=https://github.com/bkimminich/juice-shop"><img style="position: absolute; top: 0; right: 0; border: 0;" [src]="'assets/public/images/ribbons/forkme_right_'+gitHubRibbon+'.png'"   alt="Fork me on GitHub"></a>
</mat-toolbar>
